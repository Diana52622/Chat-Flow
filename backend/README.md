# Trip Chat Backend

## Запуск

1. Установите зависимости:
   ```
npm install
   ```
2. Заполните .env (см. пример в файле)
3. Запустите сервер:
   ```
npm run dev
   ```

## Структура папок
- `src/controllers` — обработчики HTTP-запросов и делегирование этапов диалога
- `src/handlers` — обработчики этапов диалога (подтверждение города, коррекция, подтверждение и т.д.)
- `src/models` — интерфейсы и типы для сессий, заказов и состояния слотов
- `src/routes` — роуты Express для API
- `src/services` — бизнес-логика, работа с сессиями, бронированиями и слотами, включая `saveBooking.ts`
- `src/parsers/slotParser.ts` — парсер пользовательских сообщений и извлечение слотов
- `src/data/cities.json` — справочник городов для поиска
- `src/db.ts` — подключение к PostgreSQL
- `src/app.ts` — точка входа приложения
